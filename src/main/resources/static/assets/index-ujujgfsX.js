import{a as m,c as h,b as e,w as o,d as f,r as n,o as c,e as R,f as y,g as u,t as k,F as N,h as U,i as C}from"./index-C8EWbkES.js";const A=(d,t)=>{const V=d.__vccOpts||d;for(const[w,l]of t)V[w]=l;return V},F={data(){return{testResult:"",testModel:{plat:null,cmd:"",shPath:"/bin/bash"},activeName:"first",parsingRecord:{serviceProvider:null,serviceProviderName:"",serviceProviderId:"",serviceProviderSecret:"",recordType:null,getIpMode:null,domain:"",updateFrequency:null,cmd:"",ip:null,plat:null,shPath:""},tableData:[{serviceProviderName:"腾讯云",recordTypeName:"AAAA",updateFrequencyName:"10分钟",domain:"www.baidu.com",ip:"127.0.0.1"}],logList:[]}},props:{},methods:{addRecord(d){this.parsingRecord.serviceProvider=d,m.post("/addRecord",this.parsingRecord).then(t=>{t.data.success?(this.$message({showClose:!0,message:"成功",type:"success"}),location.reload()):this.$message({showClose:!0,message:"失败",type:"error"})})},getIp(){m.post("/getIp",this.parsingRecord).then(d=>{d.data.data&&(this.parsingRecord=d.data.data)})},test(){m.post("/test",this.testModel).then(d=>{this.testResult=d.data.data})},deleteRecord(d){m.post("/deleteParsingRecords",this.tableData[d]).then(t=>{t.data.success&&location.reload()})}},created(){m.post("/getParsingRecords",this.testModel).then(d=>{this.tableData=d.data.data}),m.post("/log",this.testModel).then(d=>{this.logList=d.data.data})}},D=f("h2",null,"命令测试",-1),T={style:{width:"90%","min-height":"200px",border:"1px solid black","background-color":"white"}},q=f("h2",null,"日志",-1),B={style:{border:"1px solid black","background-color":"white"}},L={style:{"font-size":"xx-small"}},S=f("h4",null,"记录",-1);function z(d,t,V,w,l,g){const i=n("el-input"),r=n("el-form-item"),s=n("el-option"),b=n("el-select"),_=n("el-button"),x=n("el-form"),v=n("el-tab-pane"),P=n("el-divider"),M=n("el-tabs"),p=n("el-table-column"),I=n("el-table");return c(),h("div",null,[e(M,{modelValue:l.activeName,"onUpdate:modelValue":t[14]||(t[14]=a=>l.activeName=a),class:"demo-tabs"},{default:o(()=>[e(v,{label:"腾讯云",name:"first"},{default:o(()=>[e(x,{"label-position":"left","label-width":"auto",model:l.parsingRecord,style:{"max-width":"600px"}},{default:o(()=>[e(r,{label:"服务商ID"},{default:o(()=>[e(i,{modelValue:l.parsingRecord.serviceProviderId,"onUpdate:modelValue":t[0]||(t[0]=a=>l.parsingRecord.serviceProviderId=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"密钥"},{default:o(()=>[e(i,{modelValue:l.parsingRecord.serviceProviderSecret,"onUpdate:modelValue":t[1]||(t[1]=a=>l.parsingRecord.serviceProviderSecret=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"域名"},{default:o(()=>[e(i,{modelValue:l.parsingRecord.domain,"onUpdate:modelValue":t[2]||(t[2]=a=>l.parsingRecord.domain=a),placeholder:"主机名+域名 如www.baidu.com"},null,8,["modelValue"])]),_:1}),e(r,{label:"更新频率"},{default:o(()=>[e(b,{modelValue:l.parsingRecord.updateFrequency,"onUpdate:modelValue":t[3]||(t[3]=a=>l.parsingRecord.updateFrequency=a)},{default:o(()=>[e(s,{label:"1分钟",value:1}),e(s,{label:"5分钟",value:2}),e(s,{label:"10分钟",value:3}),e(s,{label:"30分钟",value:4})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"解析方式"},{default:o(()=>[e(b,{modelValue:l.parsingRecord.recordType,"onUpdate:modelValue":t[4]||(t[4]=a=>l.parsingRecord.recordType=a)},{default:o(()=>[e(s,{label:"(A) Ipv4",value:2}),e(s,{label:"(A.A.A.A) Ipv6",value:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"IP地址获取方式"},{default:o(()=>[e(b,{modelValue:l.parsingRecord.getIpMode,"onUpdate:modelValue":t[5]||(t[5]=a=>l.parsingRecord.getIpMode=a)},{default:o(()=>[e(s,{label:"命令行",value:1}),e(s,{label:"网卡",value:2})]),_:1},8,["modelValue"])]),_:1}),l.parsingRecord.getIpMode==1?(c(),R(r,{key:0,label:"命令"},{default:o(()=>[e(b,{modelValue:l.parsingRecord.plat,"onUpdate:modelValue":t[6]||(t[6]=a=>l.parsingRecord.plat=a)},{default:o(()=>[e(s,{label:"linux",value:0}),e(s,{label:"windows",value:1})]),_:1},8,["modelValue"]),l.parsingRecord.plat==0?(c(),R(r,{key:0,label:"命令方式"},{default:o(()=>[e(i,{modelValue:l.parsingRecord.shPath,"onUpdate:modelValue":t[7]||(t[7]=a=>l.parsingRecord.shPath=a)},null,8,["modelValue"])]),_:1})):y("",!0),e(i,{type:"textarea",modelValue:l.parsingRecord.cmd,"onUpdate:modelValue":t[8]||(t[8]=a=>l.parsingRecord.cmd=a)},null,8,["modelValue"])]),_:1})):y("",!0),e(r,{label:"ip地址"},{default:o(()=>[e(i,{type:"textarea",modelValue:l.parsingRecord.ip,"onUpdate:modelValue":t[9]||(t[9]=a=>l.parsingRecord.ip=a),disabled:""},null,8,["modelValue"]),e(_,{type:"primary",onClick:g.getIp},{default:o(()=>[u("解析IP地址")]),_:1},8,["onClick"])]),_:1}),e(r,{label:" "},{default:o(()=>[e(_,{type:"primary",onClick:t[10]||(t[10]=a=>g.addRecord(2))},{default:o(()=>[u("添加记录")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(v,{label:"阿里云",name:"second"},{default:o(()=>[u("开发中....")]),_:1}),e(v,{label:"华为云",name:"third"},{default:o(()=>[u("开发中....")]),_:1}),e(v,{label:"说明",name:"fourth"},{default:o(()=>[D,e(x,{"label-position":"left","label-width":"auto",model:l.testModel,style:{"max-width":"600px"}},{default:o(()=>[e(r,{label:"平台"},{default:o(()=>[e(b,{modelValue:l.testModel.plat,"onUpdate:modelValue":t[11]||(t[11]=a=>l.testModel.plat=a),placeholder:"linux or windows命令"},{default:o(()=>[e(s,{label:"linux",value:0}),e(s,{label:"windows",value:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"命令"},{default:o(()=>[e(i,{type:"textarea",modelValue:l.testModel.cmd,"onUpdate:modelValue":t[12]||(t[12]=a=>l.testModel.cmd=a),placeholder:"命令"},null,8,["modelValue"])]),_:1}),l.testModel.plat==0?(c(),R(r,{key:0,label:"命令方式"},{default:o(()=>[e(i,{modelValue:l.testModel.shPath,"onUpdate:modelValue":t[13]||(t[13]=a=>l.testModel.shPath=a),placeholder:"linux脚本方式"},null,8,["modelValue"])]),_:1})):y("",!0),e(r,{label:" "},{default:o(()=>[e(_,{type:"primary",onClick:g.test},{default:o(()=>[u("测试")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),f("div",T,k(l.testResult),1),q,f("div",B,[(c(!0),h(N,null,U(l.logList,a=>(c(),h("div",L,[u(k(a)+" ",1),e(P)]))),256))])]),_:1})]),_:1},8,["modelValue"]),e(P),S,e(I,{data:l.tableData,style:{width:"100%"}},{default:o(()=>[e(p,{fixed:"",prop:"serviceProviderName",label:"服务商",width:"150"}),e(p,{prop:"recordTypeName",label:"解析类型",width:"120"}),e(p,{prop:"updateFrequencyName",label:"更新频率",width:"120"}),e(p,{prop:"ip",label:"IP地址",width:"120"}),e(p,{prop:"domain",label:"域名",width:"600"}),e(p,{fixed:"right",label:"Operations","min-width":"120"},{default:o(a=>[e(_,{link:"",type:"primary",size:"small",onClick:C(O=>g.deleteRecord(a.$index),["prevent"])},{default:o(()=>[u(" 删除 ")]),_:2},1032,["onClick"]),e(_,{link:"",type:"primary",size:"small"},{default:o(()=>[u("修改")]),_:1})]),_:1})]),_:1},8,["data"])])}const j=A(F,[["render",z]]);export{j as default};
